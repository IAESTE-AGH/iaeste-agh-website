---
import { ThemedText } from '@/atoms';
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';

interface Props {
	imgPath?: imgPath;
	title?: string;
	desc?: string;
}
type imgPath = keyof typeof images;
const { imgPath, title, desc } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>(
	'/src/assets/*.svg'
);
---

<div class="infoCard">
	{
		imgPath != undefined ? (
			<Image src={images[imgPath]()} alt={'decorative image'} />
		) : (
			''
		)
	}

	<div style="display: flex; flex-direction: column; gap: 4px;">
		<div style="width: max-content;">
			<ThemedText variant="h1" isBold>{title}</ThemedText>
		</div>
		<ThemedText variant="h4">{desc}</ThemedText>
	</div>
</div>

<style
	define:vars={{
		padding:
			imgPath == undefined ? 'var(--spacing-md)' : 'var(--spacing-lg)',
	}}
>
	.infoCard {
		display: flex;
		text-align: center;
		gap: 48px;
		flex-direction: column;
		width: min-content;
		padding-block: var(--padding);
		padding-inline: var(--spacing-lg);
		border: var(--border);
		box-shadow: var(--shadows-default);
		border-radius: var(--borderRadius-default);
	}
</style>
